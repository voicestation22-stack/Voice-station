const schedule = require('node-schedule');
const moment = require('moment-timezone');
const chalk = require('chalk');

module.exports.config = {
    name: 'autosent',
    version: '10.0.0',
    hasPermssion: 0,
    credits: 'â€”ÍŸÍŸÍžÍžð‚ð˜ðð„ð‘ â˜¢ï¸_ð–£˜ -ððŽð“ âš ï¸ ð‘»ð‘¬ð‘¨ð‘´_ â˜¢ï¸',
    description: 'Set Karne Ke Bad Automatically Msg Send Karega',
    commandCategory: 'group messenger',
    usages: '[]',
    cooldowns: 3
};

const messages = [
    { time: '12:00 AM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 12:00 ð—”ðŒ â³ à¦…à¦¨à§‡à¦• à¦°à¦¾à¦¤ à¦¹à¦²à§‹, à¦˜à§à¦®à¦¿à¦¯à¦¼à§‡ à¦ªà¦¡à¦¼ Bby Good Night ðŸ˜´ðŸ’¤â¤ï¸ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€' },
    { time: '1:00 AM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 1:00 AðŒ â³ à¦•à¦¿à¦°à§‡ à¦¤à§à¦‡ à¦à¦–à¦¨à§‹ à¦˜à§à¦®à¦¾à¦¸ à¦¨à¦¾à¦‡? à¦¤à¦¾à¦¡à¦¼à¦¾à¦¤à¦¾à¦¡à¦¼à¦¿ à¦˜à§à¦®à¦¿à¦¯à¦¼à§‡ à¦ªà¦¡à¦¼!ðŸ˜¾ðŸ˜´ðŸ›Œ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€' },
    { time: '2:00 AM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 2:00 AðŒ â³ à¦˜à§à¦®à§‡ à¦†à¦¯à¦¼ à¦­à¦¾à¦‡! à¦à¦–à¦¨à§‹ à¦œà¦¾à¦‡à¦—à¦¾ à¦†à¦«à¦¸à§‹à¦¸ à¦•à§à¦¯à¦¾à¦¨?ðŸ˜¤ðŸ‘ŠðŸ’¤ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€' },
    { time: '3:00 AM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 3:00 AðŒ â³ à¦¸à¦¬à¦¾à¦‡ à¦˜à§à¦®à¦¾à¦‡à¦¯à¦¼à¦¾ à¦—à§‡à¦›à§‡, à¦¤à§à¦‡ à¦à¦–à¦¨ à¦œà¦¾à¦‡à¦—à¦¾ à¦†à¦¸à§‹à¦¸ à¦•à§à¦¯à¦¾à¦¨.. à¦¹à¦¾à¦¤ à¦®à¦¾à¦°à¦¸ à¦¨à¦¾à¦•à¦¿?ðŸ™„ðŸŒƒðŸ›Œ â”€â”€â”€â”€ â€¢ðŸ–¤â€¢ â”€â”€â”€â”€' },
    { time: '4:00 AM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 4:00 AðŒ â³ à¦à¦•à¦Ÿà§ à¦ªà¦° à¦†à¦œà¦¾à¦¨ à¦¹à¦¬à§‡, à¦¸à¦®à¦¯à¦¼ à¦¹à¦¯à¦¼à§‡ à¦—à§‡à¦›à§‡à¥¤ ðŸ•ŒðŸ•‹ðŸ•“ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€' },
    { time: '5:00 AM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 5:00 ð—”ðŒ â³ à¦«à¦œà¦°à§‡à¦° à¦†à¦œà¦¾à¦¨ à¦¹à¦¯à¦¼à§‡ à¦—à§‡à¦›à§‡, à¦¨à¦¾à¦®à¦¾à¦œà¦Ÿà¦¾ à¦ªà¦°à§‡ à¦¨à¦¿à¦“ à¦ªà¦¿à¦“~ ðŸ•Œâœ¨ðŸ¤²ðŸ’– â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€' },
    { time: '6:00 AM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 6:00 AðŒ â³ à¦†à¦¸à¦¸à¦¾à¦²à¦¾à¦®à§à¦¯à¦¼à¦¾à¦²à¦¾à¦‡à¦•à§à¦® Good Morning Bby! à¦à¦¤à§‹ à¦¸à¦•à¦¾à¦²à§‡ à¦˜à§à¦® à¦¥à§‡à¦•à§‡ à¦‰à¦ à§‡ à¦ªà¦¡à¦¼à¦› à¦­à¦£à§à¦¡à¦¾à¦®à¦¿ à¦•à¦°à¦¾à¦° à¦œà¦¨à§à¦¯ ? ðŸŒ…ðŸ’–ðŸ˜³ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€' },
    { time: '7:00 AM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 7:00 AðŒ â³ à¦˜à§à¦® à¦­à¦¾à¦™à¦¤à§‡à¦‡ à¦®à§‹à¦¬à¦¾à¦‡à¦²! à¦¦à¦¾à¦à¦¤ à¦¬à§à¦°à¦¾à¦¶à¦Ÿà¦¾ à¦•à¦°à¦¬à¦¿ à¦¤à§‹ à¦¨à¦¾à¦•à¦¿!ðŸ›Œâž¡ï¸ðŸ“± â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€' },
    { time: '8:00 AM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 8:00 AðŒ â³ à¦ªà¦¿à¦“, à¦®à§‹à¦¬à¦¾à¦‡à¦² à¦°à§‡à¦–à§‡ à¦¦à¦¾à¦à¦¤ à¦¬à§à¦°à¦¾à¦¶ à¦•à¦°à§‡ à¦–à§‡à¦¯à¦¼à§‡ à¦¨à¦¾à¦“!ðŸ“±ðŸª¥ðŸ½ï¸ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€' },
    { time: '9:00 AM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 9:00 AðŒ â³ Bby, Breakfast korco?ðŸ³ðŸ¥žðŸ’– â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€' },
    { time: '10:00 AM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 10:00 AðŒ â³ à¦•à¦¿à¦°à§‡ à¦­à¦¨à§à¦¡, à¦¤à§à¦‡ à¦†à¦œ à¦•à¦²à§‡à¦œ à¦¯à¦¾à¦¸ à¦¨à¦¾à¦‡? ðŸ˜œðŸ“šðŸ™„ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€' },
    { time: '11:00 AM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 11:00 AðŒ â³ à¦¨à¦¾à¦Ÿà¦• à¦•à¦® à¦•à¦° à¦ªà¦¿à¦“~ à¦¬à¦¸ à¦«à¦°à¦¹à¦¾à¦¦ à¦à¦–à¦¨ à¦¬à¦¿à¦œà¦¿ à¦†à¦›à§‡!ðŸ™„ðŸ“±ðŸ’¼ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€' },
    { time: '12:00 PM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 12:00 ððŒ â³ Good Afternoon Everyone!ðŸŒžðŸ™ŒðŸŒ¸ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€' },
    { time: '1:00 PM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 1:00 ððŒ â³ à¦­à¦¨à§à¦¡ à¦•à§‹à¦¥à¦¾à¦•à¦¾à¦° à¦®à§‹à¦¬à¦¾à¦‡à¦² à¦¬à¦¨à§à¦§ à¦•à¦°à§‡ à¦œà§‹à¦¹à¦°à§‡à¦° à¦¨à¦¾à¦®à¦¾à¦œ à¦ªà§œà§‡ à¦¨à¦¾à¦“ðŸ˜»â£ï¸ðŸ¥°â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€' },
    { time: '2:00 PM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 2:00 ððŒ â³ à¦­à¦¨à§à¦¡ à¦•à§‹à¦¥à¦¾à¦•à¦¾à¦°, à¦®à§‹à¦¬à¦¾à¦‡à¦² à¦°à¦¾à¦–! à¦—à§‹à¦¸à¦² à¦•à¦°à§‡ à¦–à¦¾à¦“à§Ÿà¦¾-à¦¦à¦¾à¦“à§Ÿà¦¾ à¦•à¦°à§‡ à¦¨à§‡ðŸ”ªðŸ›ðŸ½ï¸ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€' },
    { time: '3:00 PM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 3:00 ððŒ â³ Jan, à¦¤à§‹à¦®à¦¾à¦•à§‡ à¦›à¦¾à¦¡à¦¼à¦¾ à¦†à¦° à¦¦à§à¦ªà§à¦°à§‡ à¦˜à§à¦® à¦¹à¦¯à¦¼ à¦¨à¦¾â€¦.!ðŸ˜´ðŸ’”ðŸŒ™ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€' },
    { time: '4:00 PM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 4:00 ððŒ â³ à¦…à¦¨à§‡à¦• à¦—à¦°à¦® à¦ªà¦¡à¦¼à¦›à§‡ à¦†à¦œ! ðŸ¥µðŸŒžðŸ’¦ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€' },
    { time: '5:00 PM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 5:00 ððŒ â³ à¦ªà¦°à¦¿à¦¸à§à¦¥à¦¿à¦¤à¦¿ à¦¯à§‡à¦®à¦¨à¦¿ à¦¹à§‹à¦• à¦¨à¦¾ à¦•à§‡à¦¨, à¦¸à¦¬ à¦¸à¦®à§Ÿ à¦¹à¦¾à¦¸à¦¤à§‡à¦‡ à¦¹à¦¬à§‡! ðŸ˜…ðŸ•’ðŸ™‚ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€' },
    { time: '6:00 PM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 6:00 ððŒ â³ Good Evening Everyone! à¦¸à¦¬à¦¾à¦‡ à¦¹à¦¾à¦¤ à¦®à§à¦– à¦§à§à¦¯à¦¼à§‡ à¦¨à¦¾à¦“! ðŸŒ†ðŸ‘ðŸ’¦ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€' },
    { time: '7:00 PM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 7:00 ððŒ â³ à¦•à¦¿à¦°à§‡ à¦­à¦¨à§à¦¡, à¦¤à§à¦‡ à¦†à¦œ à¦ªà¦¡à¦¼à¦¤à§‡ à¦¬à¦¸à¦›à¦¿à¦²à¦¿ à¦¨à¦¾à¦•à¦¿?ðŸ˜ðŸ“šðŸ¤” â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€' },
    { time: '8:00 PM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 8:00 ððŒ â³ à¦“à¦‡ à¦“à¦‡, à¦à¦¤à§‹ bot bot à¦¨à¦¾ à¦•à¦°à§‡ à¦†à¦®à¦¾à¦° à¦¬à¦¸ à¦«à¦°à¦¹à¦¾à¦¦ à¦•à§‡ à¦à¦•à¦Ÿà¦¾ à¦—à¦« à¦¦à§‡...!ðŸ«°ðŸ˜ŽðŸ”¥ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€' },
    { time: '9:00 PM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 9:00 ððŒ â³ à¦†à¦®à¦¾à¦° cute bby à¦—à§à¦²à¦¾ à¦–à¦¾à¦¨à¦¾ à¦–à¦¾à¦‡à¦›à§‡...!ðŸ˜˜ðŸ½ï¸â¤ï¸ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€' },
    { time: '10:00 PM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 10:00 ððŒ â³ à¦•à¦¿à¦°à§‡ à¦­à¦¨à§à¦¡, à¦–à¦¾à¦‡à¦¬à¦¿ à¦•à¦–à¦¨? à¦¸à¦¾à¦°à¦¾à¦¦à¦¿à¦¨ à¦®à§‹à¦¬à¦¾à¦‡à¦² à¦Ÿà¦¿à¦ªà¦¸..!ðŸ˜œðŸ“±ðŸ˜¾ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€' },
    { time: '11:00 PM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 11:00 ððŒ â³ à¦¯à§‡ à¦›à§‡à§œà§‡ à¦—à§‡à¦›à§‡ ðŸ˜” à¦¤à¦¾à¦•à§‡ à¦­à§à¦²à§‡ à¦¯à¦¾à¦“ ðŸ™‚ à¦†à¦®à¦¾à¦° à¦¬à¦¸ à¦«à¦°à¦¹à¦¾à¦¦ à¦à¦° à¦¸à¦¾à¦¥à§‡ à¦ªà§à¦°à§‡à¦® à¦•à¦°à§‡ à¦¤à¦¾à¦•à§‡ à¦¦à§‡à¦–à¦¿à§Ÿà§‡ à¦¦à¦¾à¦“...!ðŸ™ˆðŸ¸ðŸ¤— â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€' }
];

module.exports.onLoad = ({ api }) => {
    console.log(chalk.bold.hex("#00c300")("============ SUCCESFULLY LOADED THE AUTOSENT COMMAND ============"));

    messages.forEach(({ time, message }) => {
        const [hour, minute, period] = time.split(/[: ]/);
        let hour24 = parseInt(hour, 10);
        if (period === 'PM' && hour !== '12') {
            hour24 += 12;
        } else if (period === 'AM' && hour === '12') {
            hour24 = 0;
        }

        const scheduledTime = moment.tz({ hour: hour24, minute: parseInt(minute, 10) }, 'Asia/Dhaka').toDate();

        schedule.scheduleJob(scheduledTime, () => {
            global.data.allThreadID.forEach(threadID => {
                api.sendMessage(message, threadID, (error) => {
                    if (error) {
                        console.error(`Failed to send message to ${threadID}:`, error);
                    }
                });
            });
        });
    });
};

module.exports.run = () => {
    // This function can be left empty as the main logic is handled in onLoad
};
